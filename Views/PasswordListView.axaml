<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             xmlns:vm="using:Passomnemo.ViewModels"
             x:DataType="vm:PasswordListViewModel"
             x:Class="Passomnemo.Views.PasswordListView">
  <Design.DataContext>
    <vm:PasswordListViewModel/>
  </Design.DataContext>
  <ScrollViewer>     
    <Grid Margin="8" RowDefinitions="Auto, Auto, Auto" ColumnDefinitions="*">
      <Grid Grid.Row="0" ColumnDefinitions="*, Auto, *">
        <StackPanel Grid.Column="1" HorizontalAlignment="Center" Orientation="Horizontal">          
          <TextBox Height="36" Width="300" Text="{Binding SearchText, Mode=TwoWay}"/>
          <Button Height="36" Content="–ü–æ—à—É–∫" Click="Search_Click"/>
        </StackPanel>
        <Grid HorizontalAlignment="Right" Grid.Column="2" RowDefinitions="*,*" ColumnDefinitions="Auto, *">
          <Label Margin="4" Grid.Row="0" Content="–®—É–∫–∞—Ç–∏:"
                 VerticalAlignment="Center" HorizontalAlignment="Right"/>
          <ComboBox Margin="4" HorizontalAlignment="Right" Grid.Column="2"
                    Height="36" Width="100" SelectedIndex="{Binding SearchIndex}">
            <ComboBoxItem>-</ComboBoxItem>
            <ComboBoxItem>–Ø—Ä–ª–∏–∫</ComboBoxItem>
            <ComboBoxItem>–ù–∞–∑–≤—É</ComboBoxItem>
            <ComboBoxItem>–õ–æ–≥—ñ–Ω</ComboBoxItem>
          </ComboBox>
          <Label Margin="4" Grid.Row="1" Content="–°–æ—Ç—Ä—É–≤–∞—Ç–∏:"
                 VerticalAlignment="Center" HorizontalAlignment="Right"/>
          <ComboBox Margin="4" HorizontalAlignment="Right" Grid.Column="2" Grid.Row="1"
                    Height="36" Width="100" SelectedIndex="{Binding FilterIndex}">
            <ComboBoxItem>–î–∞—Ç—É‚Üë</ComboBoxItem>
            <ComboBoxItem>–î–∞—Ç—É‚Üì</ComboBoxItem>
            <ComboBoxItem>–Ø—Ä–ª–∏–∫‚Üë</ComboBoxItem>
            <ComboBoxItem>–Ø—Ä–ª–∏–∫‚Üì</ComboBoxItem>
            <ComboBoxItem>–ù–∞–∑–≤—É‚Üë</ComboBoxItem>
            <ComboBoxItem>–ù–∞–∑–≤—É‚Üì</ComboBoxItem>
            <ComboBoxItem>–õ–æ–≥—ñ–Ω‚Üë</ComboBoxItem>
            <ComboBoxItem>–õ–æ–≥—ñ–Ω‚Üì</ComboBoxItem>
          </ComboBox>       
        </Grid>
      </Grid>
      <Button HorizontalAlignment="Stretch" Grid.Row="1" Height="42"
              Content="–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –±–ª–æ–∫ –æ–±–ª—ñ–∫–æ–≤–æ–≥–æ –∑–∞–ø–∏—Å—É" Click="Add_Click"/>   
      <StackPanel HorizontalAlignment="Stretch" Grid.Row="2">
        <ListBox x:Name="items" SelectedItem="{Binding SelectedItem}"  ItemsSource="{Binding AccountEntries}">
          <ListBox.ItemTemplate>
            <DataTemplate>          
              <Grid RowDefinitions="*, Auto" ColumnDefinitions="*, Auto">
                <ContentControl Grid.Row="0" Grid.RowSpan="2" Grid.Column="0" Content="{Binding}" ContentTemplate="{StaticResource AccountEntryTemplate}" />
                <Button Content="‚úè" VerticalAlignment="Bottom" Grid.Column="1" Grid.Row="0" 
                        Height="40" Width="40" Click="Change_Click" Padding="4" FontSize="18"
                        IsEnabled="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"/>
                <Button Content="üóë" VerticalAlignment="Top" Grid.Column="1" Grid.Row="1" 
                        Height="40" Width="40" Click="Remove_Click" Padding="4" FontSize="18"
                        IsEnabled="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}"/>
              </Grid>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>    
      </StackPanel>
    </Grid>
  </ScrollViewer>
</UserControl>
